(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,77684,e=>{"use strict";let t;var l=e.i(71645);let r=e=>{let t,l=new Set,r=(e,r)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=r?r:"object"!=typeof s||null===s)?s:Object.assign({},t,s),l.forEach(l=>l(t,e))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>i,subscribe:e=>(l.add(e),()=>l.delete(e))},i=t=e(r,s,a);return a},s=e=>{let t=e?r(e):r,s=e=>(function(e,t=e=>e){let r=l.default.useSyncExternalStore(e.subscribe,l.default.useCallback(()=>t(e.getState()),[e,t]),l.default.useCallback(()=>t(e.getInitialState()),[e,t]));return l.default.useDebugValue(r),r})(t,e);return Object.assign(s,t),s};async function a(){try{let e=await fetch("https://dummyjson.com/products");if(!e.ok)throw Error("Failed to fetch products");return(await e.json()).products}catch(e){return console.error("API error:",e),[]}}let i=(t=(e,t)=>({products:[],favorites:[],fetchProducts:async()=>{e({products:await a()})},toggleLike:l=>{let{favorites:r}=t();e({favorites:r.includes(l)?r.filter(e=>e!==l):[...r,l]})},deleteProduct:t=>{e(e=>({products:e.products.filter(e=>e.id!==t)}))},addProduct:t=>{e(e=>({products:[...e.products,t]}))},updateProduct:(t,l)=>{e(e=>({products:e.products.map(e=>e.id===t?{...e,...l}:e)}))}}))?s(t):s;e.s(["useProductsStore",0,i],77684)},75254,70273,e=>{"use strict";var t=e.i(71645);let l=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,l)=>l?l.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},r=(...e)=>e.filter((e,t,l)=>!!e&&""!==e.trim()&&l.indexOf(e)===t).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,t.forwardRef)(({color:e="currentColor",size:l=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:n,...d},u)=>(0,t.createElement)("svg",{ref:u,...s,width:l,height:l,stroke:e,strokeWidth:i?24*Number(a)/Number(l):a,className:r("lucide",o),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...n.map(([e,l])=>(0,t.createElement)(e,l)),...Array.isArray(c)?c:[c]])),i=(e,s)=>{let i=(0,t.forwardRef)(({className:i,...o},c)=>(0,t.createElement)(a,{ref:c,iconNode:s,className:r(`lucide-${l(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...o}));return i.displayName=l(e),i};e.s(["default",()=>i],75254);let o=i("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>o],70273)},63570,e=>{"use strict";var t=e.i(43476),l=e.i(71645),r=e.i(77684),s=e.i(18566),a=e.i(75254);let i=(0,a.default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);var o=e.i(70273);let c=(0,a.default)("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);function n({product:e}){let l=(0,s.useRouter)(),a=(0,r.useProductsStore)(e=>e.toggleLike),n=(0,r.useProductsStore)(e=>e.deleteProduct),d=(0,r.useProductsStore)(e=>e.favorites).includes(e.id);return(0,t.jsxs)("div",{className:"p-8 cursor-pointer flex flex-col relative",children:[(0,t.jsx)("img",{src:e.thumbnail,alt:e.title,className:"w-full h-40 object-contain mb-4",loading:"lazy",onClick:()=>l.push(`/products/${e.id}`)}),(0,t.jsxs)("p",{className:"text-lg mb-1 font-medium",onClick:()=>l.push(`/products/${e.id}`),children:["$ ",e.price.toFixed(2)]}),(0,t.jsx)("h2",{className:"mb-1 line-clamp-1",onClick:()=>l.push(`/products/${e.id}`),children:e.title}),(0,t.jsxs)("p",{className:"flex items-center gap-1 font-medium",onClick:()=>l.push(`/products/${e.id}`),children:[(0,t.jsx)(o.Star,{size:16,color:"#ffd60a"})," ",e.rating]}),(0,t.jsxs)("div",{className:"absolute top-2 right-2 flex gap-2",children:[(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),a(e.id)},className:"p-1 rounded-lg",children:(0,t.jsx)(i,{size:16,color:d?"#ef233c":"#9f9fa9"})}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),n(e.id)},className:"p-1 text-zinc-400 hover:text-zinc-700",children:(0,t.jsx)(c,{size:16,color:"#9f9fa9"})})]})]})}let d=(0,a.default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),u=(0,a.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),p=(0,a.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),h=(0,a.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function f(){let{products:e,fetchProducts:s}=(0,r.useProductsStore)(),a=(0,r.useProductsStore)(e=>e.favorites),[i,o]=(0,l.useState)("all"),[c,f]=(0,l.useState)("all"),[m,g]=(0,l.useState)("none"),[x,b]=(0,l.useState)(""),[v,j]=(0,l.useState)(1);(0,l.useEffect)(()=>{0===e.length&&s()},[]);let w=(0,l.useMemo)(()=>{let t=e;if("favorites"===i&&(t=t.filter(e=>a.includes(e.id))),"all"!==c&&(t=t.filter(e=>e.category===c)),""!==x.trim()){let e=x.toLowerCase();t=t.filter(t=>t.title.toLowerCase().includes(e))}return"asc"===m&&(t=[...t].sort((e,t)=>e.price-t.price)),"desc"===m&&(t=[...t].sort((e,t)=>t.price-e.price)),t},[i,c,e,a,x,m]),y=Math.ceil(w.length/8),k=(0,l.useMemo)(()=>["all",...Array.from(new Set(e.map(e=>e.category)))],[e]),N=(0,l.useMemo)(()=>{let e=(v-1)*8;return w.slice(e,e+8)},[w,v]);return(0,t.jsxs)("div",{className:"max-w-6xl mx-auto p-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Products"}),(0,t.jsxs)("div",{className:"mb-4 flex gap-2 flex-col md:flex-row",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{className:`px-4 py-2 rounded-lg w-full md:w-fit ${"all"===i?"bg-pink-100 text-pink-500":"bg-zinc-50 text-zinc-900 rounded-lg transition duration-200 hover:bg-zinc-100"}`,onClick:()=>o("all"),children:"All"}),(0,t.jsx)("button",{className:`px-4 py-2 rounded-lg w-full md:w-fit ${"favorites"===i?"bg-pink-100 text-pink-500":"bg-zinc-50 text-zinc-900 transition duration-200 hover:bg-zinc-100"}`,onClick:()=>o("favorites"),children:"Favorite"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("select",{value:c,onChange:e=>f(e.target.value),className:"bg-zinc-50 text-zinc-900 hover:bg-zinc-100 rounded-lg pl-4 pr-10 py-2 focus:outline-none cursor-pointer appearance-none w-full md:w-fit",children:k.map(e=>(0,t.jsx)("option",{value:e,children:"all"===e?"All categories":e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,t.jsx)(u,{className:"absolute top-3 right-3 pointer-events-none",size:16,color:"#9f9fa9"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{value:m,onChange:e=>g(e.target.value),className:"bg-zinc-50 text-zinc-900 hover:bg-zinc-100 rounded-lg pl-4 pr-12 py-2 focus:outline-none cursor-pointer appearance-none w-full md:w-fit",children:[(0,t.jsx)("option",{value:"none",children:"Default price"}),(0,t.jsx)("option",{value:"asc",children:"From low"}),(0,t.jsx)("option",{value:"desc",children:"From high"})]}),(0,t.jsx)(d,{className:"absolute top-3 right-3 pointer-events-none",size:16,color:"#9f9fa9"})]}),(0,t.jsx)("input",{type:"search",value:x,onChange:e=>b(e.target.value),placeholder:"Search...",className:"w-full border border-zinc-200 rounded-lg focus:border-zinc-300 p-2 rounded"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[N.map(e=>(0,t.jsx)(n,{product:e},e.id)),0===N.length&&(0,t.jsx)("p",{className:"text-zinc-500 col-span-full",children:"Nothing here yet"})]}),(0,t.jsxs)("div",{className:"flex justify-center items-center gap-4 mt-6",children:[(0,t.jsx)("button",{disabled:1===v,onClick:()=>j(e=>e-1),className:"px-3 py-2 bg-zinc-100 rounded disabled:opacity-40 flex place-items-center",children:(0,t.jsx)(p,{size:16})}),(0,t.jsxs)("span",{className:"text-base/7 font-semibold text-zinc-700",children:[v," / ",y]}),(0,t.jsx)("button",{disabled:v===y,onClick:()=>j(e=>e+1),className:"px-3 py-2 bg-zinc-100 rounded disabled:opacity-40 flex place-items-center",children:(0,t.jsx)(h,{size:16})})]})]})}e.s(["default",()=>f],63570)}]);